{% extends "libs/base.html" %}
{% load static %}
{% block container %}
<button class="am-btn am-btn-primary" id="checkjsapi">check</button>
{% endblock %}
{% block script %}
<script src="http://res.wx.qq.com/open/js/jweixin-1.0.0.js"></script>
<script>
wx.config({
    debug : true,
    appId : '{{appid}}',
    timestamp : '{{timestamp}}',
    nonceStr : '{{noncestr}}',
    signature : '{{signature}}',
    jsApiList:['chooseWXPay']
});
wx.ready(function(){
    $('#checkjsapi').on('click',function(){
        wx.chooseWXPay({
            timestamp:'{{timestamp}}',
            nonceStr:'{{noncestr}}',
            package:'{{package}}',
            signType:'{{signtype}}',
            paySign:'{{paysign}}',
            success:function(res){
                alert(res);
            }
        });
    });
});
</script>
{% endblock %}